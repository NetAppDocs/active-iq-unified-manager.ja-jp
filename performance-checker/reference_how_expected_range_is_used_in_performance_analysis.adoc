---
permalink: performance-checker/reference_how_expected_range_is_used_in_performance_analysis.html 
sidebar: sidebar 
keywords: latency, forecast, performance, analysis 
summary: Unified Manager は、レイテンシ予測を使用して監視対象のワークロードの一般的な I/O レイテンシ（応答時間）を表します。ワークロードの実際のレイテンシがレイテンシ予測の上限を上回るとアラートが生成されて動的なパフォーマンスイベントがトリガーされるため、パフォーマンス問題を分析して解決することができます。 
---
= レイテンシ予測とパフォーマンス分析
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Unified Manager は、レイテンシ予測を使用して監視対象のワークロードの一般的な I/O レイテンシ（応答時間）を表します。ワークロードの実際のレイテンシがレイテンシ予測の上限を上回るとアラートが生成されて動的なパフォーマンスイベントがトリガーされるため、パフォーマンス問題を分析して解決することができます。

レイテンシ予測は、ワークロードのパフォーマンスベースラインです。Unified Manager は過去のパフォーマンス測定値から学習して、ワークロードの想定されるパフォーマンスとアクティビティレベルを予測します。想定範囲の上限が動的なパフォーマンスしきい値となります。Unified Manager では、このベースラインを使用して、実際のレイテンシがしきい値を上回る、下回る、あるいは想定範囲外になったかどうかを判断します。実測値と想定値の比較を基に、ワークロードのパフォーマンスプロファイルが作成されます。

あるワークロードの実際のレイテンシがクラスタコンポーネントの競合が原因で動的なパフォーマンスしきい値を超えると、レイテンシが高くなり、ワークロードのパフォーマンスは想定よりも遅くなります。同じクラスタコンポーネントを共有する他のワークロードのパフォーマンスも想定より遅くなる可能性があります。

Unified Manager は、しきい値を超えるイベントを分析して、そのアクティビティがパフォーマンスイベントに該当するかどうかを判断します。高ワークロードアクティビティが数時間などの長い期間継続している場合、 Unified Manager はそのアクティビティが正常であるとみなし、レイテンシ予測を動的な新しいパフォーマンスしきい値に動的に調整します。

ワークロードによっては、レイテンシ予測が時間が経過しても大きく変化することがない、アクティビティが一貫して低いワークロードもあります。このような低アクティビティのボリュームについては、イベントの数を最小限に抑えるために、パフォーマンスイベントの分析中、 Unified Manager は処理数およびレイテンシが想定よりもはるかに高いイベントのみをトリガーします。

image::../media/opm_expected_range_jpg.png[Unified Manager でのレイテンシの想定範囲]

この例のボリュームのレイテンシ予測（グレーで表示）は、 3.5~5.5ms/op です。青で表示された実際のレイテンシが、ネットワークトラフィックの断続的な急増またはクラスタコンポーネントの競合が原因で 10 ミリ秒 / 処理に突然上昇した場合、レイテンシ予測を超え、動的なパフォーマンスしきい値を超えています。

ネットワークトラフィックが減少するか、クラスタコンポーネントの競合が解消されると、レイテンシはレイテンシ予測の範囲内に戻ります。レイテンシが長期間にわたって 10ms/op 以上のままの場合、イベントを解決するための対処が必要となることがあります。
