---
permalink: api-automation/concept_workflow_space_issue.html 
sidebar: sidebar 
keywords: determine, space, issue, aggregate 
summary: Active IQ Unified Manager のデータセンター API を使用して、ボリューム内のスペースの可用性と使用率を監視できます。ボリューム内のスペースの問題を特定し、使用率が高すぎる、または十分に活用されていないストレージリソースを特定できます。 
---
= アグリゲートのスペースの問題を特定しています
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Active IQ Unified Manager のデータセンター API を使用して、ボリューム内のスペースの可用性と使用率を監視できます。ボリューム内のスペースの問題を特定し、使用率が高すぎる、または十分に活用されていないストレージリソースを特定できます。

アグリゲート用のデータセンター API は、使用可能スペースと使用済みスペース、およびスペース削減の効率化設定に関する関連情報を取得します。また、指定した属性に基づいて取得した情報をフィルタすることもできます。

アグリゲートにスペースが不足しているかどうかを確認する方法の 1 つは、オートサイズモードを有効にした環境内にボリュームがあるかどうかを確認することです。次に、過剰に利用されているボリュームを特定し、対処を行う必要があります。

次のフローチャートは、オートサイズモードが有効になっているボリュームに関する情報を取得するプロセスを示しています。

image::../media/space_utilization.gif[スペース使用量]

このフローは、クラスタがすでに ONTAP に作成され、 Unified Manager に追加されていることを前提としています。

. 値がわからないかぎりクラスタキーを取得します。
+
[cols="3*"]
|===
| カテゴリ | HTTP 動詞 | パス 


 a| 
データセンター
 a| 
取得
 a| 
「 /datacenter /cluster/clusters 」です

|===
. クラスタキーをフィルタパラメータとして使用して、そのクラスタのアグリゲートを照会します。
+
[cols="3*"]
|===
| カテゴリ | HTTP 動詞 | パス 


 a| 
データセンター
 a| 
取得
 a| 
データセンター / ストレージ / アグリゲート

|===
. 応答から、アグリゲートのスペース使用量を分析し、スペースに問題があるアグリゲートを特定します。スペース問題を使用する各アグリゲートについて、同じ JSON 出力からアグリゲートキーを取得します。
. 各アグリゲート・キーを使用して、 autosize-mode パラメータの値が「 grow. 」になっているすべてのボリュームをフィルタリングします
+
[cols="3*"]
|===
| カテゴリ | HTTP 動詞 | パス 


 a| 
データセンター
 a| 
取得
 a| 
「 /datacenter /storage/volumes 」

|===
. 利用率が高いボリュームを分析します。
. ボリュームのスペースに関する問題に対処するために、アグリゲート間でのボリュームの移動などの必要な対処策を実行します。これらの操作は、 ONTAP または Unified Manager Web UI から実行できます。

